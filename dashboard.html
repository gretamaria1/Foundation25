<!DOCTYPE html>
<html lang="et">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Üritused – Spinvite</title>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/dashboard.css" />

  <!-- JavaScript module that handles:
       - authentication state check
       - loading user events from Firestore
       - logout functionality
       - switching between upcoming/past tabs -->
  <script src="dashboard.js" type="module" defer></script>
</head>
<body>

  <!-- HEADER -->
  <header class="app-header">
  <div class="container app-header-inner">
     <!-- Clicking logo returns user to dashboard home view -->
    <a href="dashboard.html" class="app-logo-header">
      <img src="images/Logos/Spinvite.svg" alt="Spinvite logo" />
    </a>
    <div class="app-header-right">

      <!-- Burger menu button for mobile navigation -->
      <button class="app-menu-toggle" type="button" aria-label="Ava menüü">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <!-- User popover (Click shows menu) -->
      <details class="app-user">
        <summary class="app-user-toggle">
          <!-- Display logged in user name loaded dynamically from Firebase -->
          <span class="app-user-name" id="user-name"></span>
          <!-- Avatar with first letter of user name, populated in JS -->
          <span class="app-user-avatar" id="user-avatar">M</span>
          <!-- Visual chevron indicator -->
          <span class="app-user-chevron" aria-hidden="true"></span>
        </summary>

        <div class="app-user-menu">
          <!-- Placeholder for personal account settings -->
          <a href="#" class="app-user-menu-item">Minu konto</a>
           <!-- Logout button triggers Firebase Auth logout -->
          <button class="app-user-menu-item is-danger">Logi välja</button>
        </div>
      </details>

    </div>

  </div>
</header>

   <!-- GRID LAYOUT SHELL (Sidebar + Main content) -->
  <div class="app-shell">
    <!-- SIDEBAR -->
    <aside class="sidebar">

      <nav class="sidebar-nav">
        <!-- Navigation group -->
        <ul class="sidebar-section">
          <!-- Active dashboard menu item -->
          <li class="sidebar-item is-active">
            <a href="#" class="sidebar-link">
              <span class="sidebar-icon">
                <img src="images/Icons/uritused.svg" alt="Üritused" />
              </span>
              <span>Üritused</span>
            </a>
          </li>
          <!-- Placeholder future sections -->
          <li class="sidebar-item">
            <a href="#" class="sidebar-link">
                <span class="sidebar-icon">
                    <img src="images/Icons/Osalejad.svg" alt="Osalejad" />
                </span>
              <span>Osalejad</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="#" class="sidebar-link">
              <span class="sidebar-icon">
                <img src="images/Icons/Kurtsed.svg" alt="Kutsed" />
              </span>
              <span>Kutsed</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="#" class="sidebar-link">
              <span class="sidebar-icon">
                <img src="images/Icons/Vormid.svg" alt="Vormid" />
              </span>
              <span>Vormid</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="#" class="sidebar-link">
              <span class="sidebar-icon">
                <img src="images/Icons/Statistika.svg" alt="Statistika" />
              </span>
              <span>Statistika</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="#" class="sidebar-link">
              <span class="sidebar-icon">
                <img src="images/Icons/Meedia.svg" alt="Meedia" />
                </span>
              <span>Meedia</span>
            </a>
          </li>
        </ul>

        <div class="sidebar-heading">Haldus</div>

        <ul class="sidebar-section">
          <li class="sidebar-item">
            <a href="#" class="sidebar-link">
              <span class="sidebar-icon">
                <img src="images/Icons/Tiim.svg" alt="Tiim" />
              </span>
              <span>Tiim</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="#" class="sidebar-link">
              <span class="sidebar-icon">
                <img src="images/Icons/Keeled.svg" alt="Keeled" />
              </span>
              <span>Keeled</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="#" class="sidebar-link">
              <span class="sidebar-icon">
                <img src="images/Icons/Seaded.svg" alt="Seaded" />
              </span>
              <span>Seaded</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="#" class="sidebar-link">
              <span class="sidebar-icon">
                <img src="images/Icons/Arveldus.svg" alt="Arveldus" />
              </span>
              <span>Arveldus</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="#" class="sidebar-link">
              <span class="sidebar-icon">
                <img src="images/Icons/Juhendid.svg" alt="Juhendid" />
              </span>
              <span>Juhendid</span>
            </a>
          </li>
        </ul>
      </nav>
    </aside>

    <!-- MAIN DASHBOARD CONTENT -->
    <main class="dashboard-main">
      <!-- Top row: create event + search -->
      <div class="dashboard-top">
        <!-- Button navigates user to the event creation form page -->
        <a href="create-event.html" class="btn-primary dashboard-new-event">
          Loo uus üritus
          <span class="dashboard-new-icon">+</span>
        </a>

        <form class="dashboard-search">
          <input
            type="text"
            placeholder="Otsi üritust"
            aria-label="Otsi üritust"
          />
        </form>
      </div>

      <!-- Tabs for switching between upcoming and past events -->
      <div class="dashboard-tabs-row">
        <div class="dashboard-tabs">
          <button class="dashboard-tab is-active" type="button" data-target="upcoming">
            Tulevad üritused
          </button>
          <!-- Past events tab -->
          <button class="dashboard-tab" type="button" data-target="past">
            Möödunud üritused
          </button>
        </div>

        <!-- Placeholder calendar view link -->
        <a href="#" class="dashboard-calendar-link">
          Kalender
          <span class="calendar-icon">
            <img src="images/Icons/Kalender.svg" alt="Kalender" />
          </span>
        </a>
      </div>

      <!-- Dynamic event container: upcoming events inserted dynamically via JS -->
      <section id = "upcoming-events" class="event-grid"></section>
      <!-- Hidden until “past” tab clicked -->
      <section id = "past-events" class="event-grid" style="display:none;"></section>
    </main>
  </div>
</body>
</html>